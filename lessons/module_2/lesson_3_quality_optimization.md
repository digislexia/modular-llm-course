# –£—Ä–æ–∫ 3: –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## –í–≤–µ–¥–µ–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –ø–æ–ª–¥–µ–ª–∞. –ù–∞—Å—Ç–æ—è—â–∏–π –≤—ã–∑–æ–≤ ‚Äî –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã. –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –≤—ã —Å—Ç–æ–ª–∫–Ω—ë—Ç–µ—Å—å —Å –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é –æ—Ç–≤–µ—Ç–æ–≤ LLM, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –±—é–¥–∂–µ—Ç–∞.

–í —ç—Ç–æ–º —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —É—Ä–æ–∫–µ –º–æ–¥—É–ª—è –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **LLM –∫–∞–∫ —Å—É–¥—å—é** –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥—Ä—É–≥–∏—Ö LLM, —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞–π–ø–ª–∞–π–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤. –≠—Ç–∏ –Ω–∞–≤—ã–∫–∏ –ø—Ä–µ–≤—Ä–∞—Ç—è—Ç –≤–∞—à–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –≤ –Ω–∞–¥—ë–∂–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è.

## –¶–µ–ª–∏ —É—Ä–æ–∫–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–∫–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM-as-a-judge –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–Ω–∏–∂–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
- ‚úÖ –°—Ç—Ä–æ–∏—Ç—å –ø–∞–π–ø–ª–∞–π–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

- **LLM-as-a-judge** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ –¥—Ä—É–≥–æ–π –º–æ–¥–µ–ª–∏
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞** ‚Äî –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –æ—Ç–≤–µ—Ç–∞ (—Ç–æ—á–Ω–æ—Å—Ç—å, –ø–æ–ª–Ω–æ—Ç–∞, —Å—Ç–∏–ª—å, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å)
- **–í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–¢–æ–∫–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** ‚Äî –º–µ—Ç–æ–¥—ã —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤** ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è LLM-as-a-judge

### –ü–æ—á–µ–º—É –º–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–∏?

LLM –æ–±–ª–∞–¥–∞—é—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏ –∫:
- **–ê–Ω–∞–ª–∏–∑—É —Ç–µ–∫—Å—Ç–∞** ‚Äî –ø–æ–Ω–∏–º–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –ª–æ–≥–∏–∫—É, —Å—Ç–∏–ª—å
- **–°—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏** ‚Äî –º–æ–≥—É—Ç –æ—Ü–µ–Ω–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- **–û–±—ä–µ–∫—Ç–∏–≤–Ω–æ–π –æ—Ü–µ–Ω–∫–µ** ‚Äî –Ω–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏** ‚Äî –º–æ–≥—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—ã—Å—è—á–∏ –æ—Ç–≤–µ—Ç–æ–≤

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ LLM-as-a-judge

```python
# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –∫–æ–Ω—Ç—Ä–æ–ª—é –∫–∞—á–µ—Å—Ç–≤–∞

# –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
manual_check = {
    "cost_per_review": 50,  # —Ä—É–±–ª–µ–π
    "time_per_review": 300,  # —Å–µ–∫—É–Ω–¥
    "daily_capacity": 100,   # –æ—Ç–∑—ã–≤–æ–≤
    "consistency": 0.7       # —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä
}

# LLM-as-a-judge
llm_check = {
    "cost_per_review": 0.5,   # —Ä—É–±–ª–µ–π (–ø—Ä–∏–º–µ—Ä–Ω–æ)
    "time_per_review": 5,     # —Å–µ–∫—É–Ω–¥
    "daily_capacity": 10000,  # –æ—Ç–∑—ã–≤–æ–≤
    "consistency": 0.95       # –≤—ã—Å–æ–∫–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
}

print("üìä –°–†–ê–í–ù–ï–ù–ò–ï –ü–û–î–•–û–î–û–í –ö –ö–û–ù–¢–†–û–õ–Æ –ö–ê–ß–ï–°–¢–í–ê")
print("=" * 50)
print(f"–°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏:")
print(f"  –†—É—á–Ω–∞—è: {manual_check['cost_per_review']} —Ä—É–±/–æ—Ç–∑—ã–≤")
print(f"  LLM: {llm_check['cost_per_review']} —Ä—É–±/–æ—Ç–∑—ã–≤")
print(f"  –≠–∫–æ–Ω–æ–º–∏—è: {manual_check['cost_per_review'] / llm_check['cost_per_review']:.0f}x")
print()
print(f"–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏:")
print(f"  –†—É—á–Ω–∞—è: {manual_check['time_per_review']}—Å/–æ—Ç–∑—ã–≤")  
print(f"  LLM: {llm_check['time_per_review']}—Å/–æ—Ç–∑—ã–≤")
print(f"  –£—Å–∫–æ—Ä–µ–Ω–∏–µ: {manual_check['time_per_review'] / llm_check['time_per_review']:.0f}x")
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ–¥—Ö–æ–¥–∞

**–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:**
- LLM –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–∞–º–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –æ—Ü–µ–Ω–∫–∏
- –ú–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ–¥–≤–∑—è—Ç—ã–º–∏ –∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –æ—Ç–≤–µ—Ç–∞–º
- –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞

## 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã LLM-as-a-judge

### –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```python
import os
import requests
import json
from typing import Dict, List, Union
from dotenv import load_dotenv

load_dotenv()

class LLMJudge:
    """–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è LLM –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤"""
    
    def __init__(self, judge_model: str = "microsoft/wizardlm-2-8x22b"):
        self.api_key = os.getenv("OPENROUTER_API_KEY")
        self.url = "https://openrouter.ai/api/v1/chat/completions"
        self.judge_model = judge_model
        
        if not self.api_key:
            raise ValueError("API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω!")
        
        # –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
        self.quality_criteria = {
            "accuracy": {
                "name": "–¢–æ—á–Ω–æ—Å—Ç—å",
                "description": "–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
                "weight": 0.3
            },
            "completeness": {
                "name": "–ü–æ–ª–Ω–æ—Ç–∞", 
                "description": "–ü–æ–∫—Ä—ã–≤–∞–µ—Ç –ª–∏ –æ—Ç–≤–µ—Ç –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã –≤–æ–ø—Ä–æ—Å–∞",
                "weight": 0.25
            },
            "clarity": {
                "name": "–Ø—Å–Ω–æ—Å—Ç—å",
                "description": "–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–∑–ª–æ–∂–µ–Ω–∏—è",
                "weight": 0.2
            },
            "relevance": {
                "name": "–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å",
                "description": "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç–≤–µ—Ç–∞ –∑–∞–¥–∞–Ω–Ω–æ–º—É –≤–æ–ø—Ä–æ—Å—É",
                "weight": 0.25
            }
        }
    
    def create_judge_prompt(self, question: str, answer: str, 
                          criteria: List[str] = None, 
                          custom_requirements: str = "") -> str:
        """–°–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –º–æ–¥–µ–ª–∏-—Å—É–¥—å–∏"""
        
        if criteria is None:
            criteria = list(self.quality_criteria.keys())
        
        criteria_descriptions = []
        for criterion in criteria:
            if criterion in self.quality_criteria:
                info = self.quality_criteria[criterion]
                criteria_descriptions.append(f"- **{info['name']}**: {info['description']}")
        
        criteria_text = "\n".join(criteria_descriptions)
        
        judge_prompt = f"""
–¢—ã —ç–∫—Å–ø–µ—Ä—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ –ò–ò-–º–æ–¥–µ–ª–µ–π.

–ó–ê–î–ê–ß–ê: –û—Ü–µ–Ω–∏ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.

–í–û–ü–†–û–°:
{question}

–û–¢–í–ï–¢ –î–õ–Ø –û–¶–ï–ù–ö–ò:
{answer}

–ö–†–ò–¢–ï–†–ò–ò –û–¶–ï–ù–ö–ò:
{criteria_text}

{custom_requirements}

–ò–ù–°–¢–†–£–ö–¶–ò–ò:
1. –û—Ü–µ–Ω–∏ –æ—Ç–≤–µ—Ç –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é –æ—Ç 1 –¥–æ 10
2. –û–±–æ—Å–Ω—É–π –∫–∞–∂–¥—É—é –æ—Ü–µ–Ω–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
3. –£–∫–∞–∂–∏ —Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –æ—Ç–≤–µ—Ç–∞
4. –î–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
5. –í—ã–≤–µ–¥–∏ –∏—Ç–æ–≥–æ–≤—É—é –æ—Ü–µ–Ω–∫—É

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:
```json
{{
    "overall_score": [1-10],
    "criteria_scores": {{
        "accuracy": {{"score": [1-10], "reasoning": "–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ"}},
        "completeness": {{"score": [1-10], "reasoning": "–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ"}},
        "clarity": {{"score": [1-10], "reasoning": "–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ"}},
        "relevance": {{"score": [1-10], "reasoning": "–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ"}}
    }},
    "strengths": ["—Å–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ 1", "—Å–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ 2"],
    "weaknesses": ["—Å–ª–∞–±–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ 1", "—Å–ª–∞–±–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ 2"], 
    "recommendations": ["—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 1", "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 2"],
    "verdict": "–û–¢–õ–ò–ß–ù–û/–•–û–†–û–®–û/–£–î–û–í–õ–ï–¢–í–û–†–ò–¢–ï–õ–¨–ù–û/–ü–õ–û–•–û"
}}
```

–ë—É–¥—å –æ–±—ä–µ–∫—Ç–∏–≤–µ–Ω –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–µ–Ω –≤ –æ—Ü–µ–Ω–∫–µ.
"""
        
        return judge_prompt.strip()
    
    def evaluate_response(self, question: str, answer: str, 
                         criteria: List[str] = None,
                         custom_requirements: str = "") -> Dict:
        """–û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞ —Å –ø–æ–º–æ—â—å—é LLM-—Å—É–¥—å–∏"""
        
        judge_prompt = self.create_judge_prompt(
            question, answer, criteria, custom_requirements
        )
        
        headers = {
            "Authorization": f"Bearer {self.api_key}",
            "Content-Type": "application/json"
        }
        
        data = {
            "model": self.judge_model,
            "messages": [{"role": "user", "content": judge_prompt}],
            "max_tokens": 1500,
            "temperature": 0.3,  # –ù–∏–∑–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
            "usage": {"include": True}
        }
        
        try:
            response = requests.post(self.url, headers=headers, json=data, timeout=45)
            response.raise_for_status()
            
            result = response.json()
            judge_response = result["choices"][0]["message"]["content"]
            
            # –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞
            try:
                # –ò—â–µ–º JSON –±–ª–æ–∫ –≤ –æ—Ç–≤–µ—Ç–µ
                import re
                json_match = re.search(r'```json\n(.*?)\n```', judge_response, re.DOTALL)
                if json_match:
                    evaluation_data = json.loads(json_match.group(1))
                else:
                    # –ï—Å–ª–∏ –Ω–µ—Ç –±–ª–æ–∫–∞, –ø—ã—Ç–∞–µ–º—Å—è –ø–∞—Ä—Å–∏—Ç—å –≤–µ—Å—å –æ—Ç–≤–µ—Ç
                    evaluation_data = json.loads(judge_response)
                
                return {
                    "success": True,
                    "evaluation": evaluation_data,
                    "raw_response": judge_response,
                    "usage": result.get("usage", {}),
                    "judge_model": self.judge_model
                }
                
            except json.JSONDecodeError:
                # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–∞—Ä—Å–∏—Ç—å JSON, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
                return {
                    "success": True,
                    "evaluation": {"raw_analysis": judge_response},
                    "raw_response": judge_response,
                    "usage": result.get("usage", {}),
                    "judge_model": self.judge_model,
                    "note": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ—Ü–µ–Ω–∫—É"
                }
                
        except Exception as e:
            return {
                "success": False,
                "error": str(e)
            }

def demo_llm_judge():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É LLM-—Å—É–¥—å–∏"""
    
    judge = LLMJudge()
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –∫–µ–π—Å—ã: –≤–æ–ø—Ä–æ—Å –∏ –¥–≤–∞ –æ—Ç–≤–µ—Ç–∞ —Ä–∞–∑–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
    test_cases = [
        {
            "question": "–û–±—ä—è—Å–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –±–ª–æ–∫—á–µ–π–Ω–∞ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏",
            "good_answer": """
–ë–ª–æ–∫—á–µ–π–Ω ‚Äî —ç—Ç–æ —Ü–∏—Ñ—Ä–æ–≤–∞—è –∫–Ω–∏–≥–∞ —É—á—ë—Ç–∞, –≥–¥–µ –∑–∞–ø–∏—Å–∏ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Ç–µ—Ç—Ä–∞–¥—å, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–≤—è–∑–∞–Ω–∞ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º. 
–ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å –Ω–∞ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∫–æ–¥ –Ω–µ —Å–æ–≤–ø–∞–¥—ë—Ç, 
–∏ –≤—Å–µ –ø–æ–π–º—É—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –ø–æ–¥–¥–µ–ª–∞–Ω—ã.

–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
1. **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –∫–æ–ø–∏–∏ —Ç–µ—Ç—Ä–∞–¥–∏ –µ—Å—Ç—å —É –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ª—é–¥–µ–π
2. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤–∏–¥–Ω—ã –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
3. **–ù–µ–∏–∑–º–µ–Ω–Ω–æ—Å—Ç—å**: –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—à–ª—ã–µ –∑–∞–ø–∏—Å–∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ

–¢–∞–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –¥–æ–≤–µ—Ä–∏–µ –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –æ—Ä–≥–∞–Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
""",
            "poor_answer": """
–ë–ª–æ–∫—á–µ–π–Ω —ç—Ç–æ —Ç–∞–∫–∞—è —à—Ç—É–∫–∞ –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç. –¢–∞–º –µ—Å—Ç—å –±–ª–æ–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑–∞–Ω—ã 
–≤ —Ü–µ–ø–æ—á–∫—É. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∏—Ç–∫–æ–∏–Ω–∞ –∏ –¥—Ä—É–≥–∏—Ö –º–æ–Ω–µ—Ç. –û—á–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ.
"""
        },
        {
            "question": "–ö–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –∏–¥–µ–∞–ª—å–Ω—É—é —è–∏—á–Ω–∏—Ü—É?",
            "good_answer": """
–°–µ–∫—Ä–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ–π —è–∏—á–Ω–∏—Ü—ã ‚Äî –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤—Ä–µ–º–µ–Ω–∏:

**–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–µ–∂–∏–µ —è–π—Ü–∞ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- –†–∞–∑–æ–≥—Ä–µ–π—Ç–µ —Å–∫–æ–≤–æ—Ä–æ–¥—É –Ω–∞ —Å—Ä–µ–¥–Ω–µ–º –æ–≥–Ω–µ
- –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –º–∞—Å–ª–∞ –∏–ª–∏ —Å–ª–∏–≤–æ—á–Ω–æ–≥–æ –º–∞—Å–ª–∞

**–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:**
1. –ê–∫–∫—É—Ä–∞—Ç–Ω–æ —Ä–∞–∑–±–µ–π—Ç–µ —è–π—Ü–∞ –≤ —Å–∫–æ–≤–æ—Ä–æ–¥—É
2. –£–±–∞–≤—å—Ç–µ –æ–≥–æ–Ω—å –¥–æ –º–∏–Ω–∏–º—É–º–∞
3. –ì–æ—Ç–æ–≤—å—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã, –Ω–µ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞—è
4. –ë–µ–ª–æ–∫ –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º, –∂–µ–ª—Ç–æ–∫ –æ—Å—Ç–∞—Ç—å—Å—è –∂–∏–¥–∫–∏–º

**–°–µ–∫—Ä–µ—Ç—ã:**
- –ù–µ —Å–æ–ª–∏—Ç–µ —Å—Ä–∞–∑—É ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –±–µ–ª–æ–∫ –∂—ë—Å—Ç–∫–∏–º
- –ù–∞–∫—Ä–æ–π—Ç–µ —Å–∫–æ–≤–æ—Ä–æ–¥—É –∫—Ä—ã—à–∫–æ–π –¥–ª—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ–≤–∞
- –ü–æ–¥–∞–≤–∞–π—Ç–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

–†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ–∂–Ω—ã–π –±–µ–ª–æ–∫ –∏ –∫—Ä–µ–º–æ–≤—ã–π –∂–µ–ª—Ç–æ–∫!
""",
            "poor_answer": """
–†–∞–∑–±–µ–π —è–π—Ü–∞ –Ω–∞ —Å–∫–æ–≤–æ—Ä–æ–¥–∫—É –∏ –∂–∞—Ä–∏ –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ. –ú–æ–∂–Ω–æ –ø–æ—Å–æ–ª–∏—Ç—å.
"""
        }
    ]
    
    print("‚öñÔ∏è –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø LLM-AS-A-JUDGE")
    print("=" * 60)
    
    for i, case in enumerate(test_cases, 1):
        print(f"\nüìù –¢–ï–°–¢ {i}: {case['question']}")
        print("=" * 50)
        
        # –û—Ü–µ–Ω–∏–≤–∞–µ–º —Ö–æ—Ä–æ—à–∏–π –æ—Ç–≤–µ—Ç
        print("\nüîç –û—Ü–µ–Ω–∫–∞ —Ö–æ—Ä–æ—à–µ–≥–æ –æ—Ç–≤–µ—Ç–∞:")
        print("-" * 30)
        good_evaluation = judge.evaluate_response(
            case["question"], 
            case["good_answer"]
        )
        
        if good_evaluation["success"]:
            if "evaluation" in good_evaluation and isinstance(good_evaluation["evaluation"], dict):
                eval_data = good_evaluation["evaluation"]
                if "overall_score" in eval_data:
                    print(f"‚úÖ –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: {eval_data['overall_score']}/10")
                    print(f"üìä –í–µ—Ä–¥–∏–∫—Ç: {eval_data.get('verdict', 'N/A')}")
                    
                    if "strengths" in eval_data:
                        print("üí™ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:")
                        for strength in eval_data["strengths"]:
                            print(f"  + {strength}")
                else:
                    print("üìÑ –ê–Ω–∞–ª–∏–∑:")
                    print(eval_data.get("raw_analysis", "–ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")[:300] + "...")
            else:
                print("üìÑ –ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞: {good_evaluation['error']}")
        
        # –ù–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞
        time.sleep(1)
        
        # –û—Ü–µ–Ω–∏–≤–∞–µ–º –ø–ª–æ—Ö–æ–π –æ—Ç–≤–µ—Ç
        print("\nüîç –û—Ü–µ–Ω–∫–∞ —Å–ª–∞–±–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:")
        print("-" * 30)
        poor_evaluation = judge.evaluate_response(
            case["question"], 
            case["poor_answer"]
        )
        
        if poor_evaluation["success"]:
            if "evaluation" in poor_evaluation and isinstance(poor_evaluation["evaluation"], dict):
                eval_data = poor_evaluation["evaluation"]
                if "overall_score" in eval_data:
                    print(f"‚ö†Ô∏è –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: {eval_data['overall_score']}/10")
                    print(f"üìä –í–µ—Ä–¥–∏–∫—Ç: {eval_data.get('verdict', 'N/A')}")
                    
                    if "recommendations" in eval_data:
                        print("üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:")
                        for rec in eval_data["recommendations"]:
                            print(f"  ‚Üí {rec}")
                else:
                    print("üìÑ –ê–Ω–∞–ª–∏–∑:")
                    print(eval_data.get("raw_analysis", "–ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")[:300] + "...")
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞: {poor_evaluation['error']}")
        
        if i < len(test_cases):
            input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–µ—Å—Ç–∞...")

if __name__ == "__main__":
    demo_llm_judge()
```

### üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é LLM-—Å—É–¥—å–∏ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ:
- –ö–∞–∫ –º–æ–¥–µ–ª—å –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π vs –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç?
- –ö–∞–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–º–∏?
- –ù–∞—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã –µ—ë —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é?

## 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è + –ø—Ä–æ–≤–µ—Ä–∫–∞

```python
import time
from datetime import datetime

class QualityControlPipeline:
    """–ü–∞–π–ø–ª–∞–π–Ω –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Üí —É–ª—É—á—à–µ–Ω–∏–µ"""
    
    def __init__(self, generator_model: str = "microsoft/wizardlm-2-8x22b",
                 judge_model: str = "microsoft/wizardlm-2-8x22b"):
        self.api_key = os.getenv("OPENROUTER_API_KEY")
        self.url = "https://openrouter.ai/api/v1/chat/completions"
        self.generator_model = generator_model
        self.judge = LLMJudge(judge_model)
        
        # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
        self.quality_thresholds = {
            "overall_score": 7,
            "accuracy": 7,
            "completeness": 6,
            "clarity": 6,
            "relevance": 8
        }
    
    def generate_response(self, prompt: str, context: str = "",
                         max_tokens: int = 1000, temperature: float = 0.7) -> Dict:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å –ø–æ–º–æ—â—å—é –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥–µ–ª–∏"""
        
        full_prompt = f"{context}\n\n{prompt}" if context else prompt
        
        headers = {
            "Authorization": f"Bearer {self.api_key}",
            "Content-Type": "application/json"
        }
        
        data = {
            "model": self.generator_model,
            "messages": [{"role": "user", "content": full_prompt}],
            "max_tokens": max_tokens,
            "temperature": temperature,
            "usage": {"include": True}
        }
        
        try:
            response = requests.post(self.url, headers=headers, json=data, timeout=45)
            response.raise_for_status()
            
            result = response.json()
            
            return {
                "success": True,
                "response": result["choices"][0]["message"]["content"],
                "usage": result.get("usage", {}),
                "model": self.generator_model
            }
            
        except Exception as e:
            return {
                "success": False,
                "error": str(e)
            }
    
    def improve_response(self, original_prompt: str, response: str, 
                        evaluation: Dict) -> Dict:
        """–£–ª—É—á—à–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ü–µ–Ω–∫–∏ —Å—É–¥—å–∏"""
        
        if not evaluation.get("success"):
            return {"success": False, "error": "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è"}
        
        eval_data = evaluation.get("evaluation", {})
        
        # –°–æ–∑–¥–∞—ë–º –ø—Ä–æ–º–ø—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
        improvement_prompt = f"""
–ò—Å—Ö–æ–¥–Ω—ã–π –≤–æ–ø—Ä–æ—Å: {original_prompt}

–ò—Å—Ö–æ–¥–Ω—ã–π –æ—Ç–≤–µ—Ç: {response}

–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ–∫–∞–∑–∞–ª —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
"""
        
        if "weaknesses" in eval_data:
            improvement_prompt += "\n–°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:\n"
            for weakness in eval_data["weaknesses"]:
                improvement_prompt += f"- {weakness}\n"
        
        if "recommendations" in eval_data:
            improvement_prompt += "\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:\n"
            for rec in eval_data["recommendations"]:
                improvement_prompt += f"- {rec}\n"
        
        improvement_prompt += """
–°–æ–∑–¥–∞–π —É–ª—É—á—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –æ—Ç–≤–µ—Ç–∞, —É—Å—Ç—Ä–∞–Ω—è—é—â—É—é –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏.
–°–æ—Ö—Ä–∞–Ω–∏ –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –Ω–æ —Å–¥–µ–ª–∞–π –µ–≥–æ:
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏
- –ë–æ–ª–µ–µ –ø–æ–ª–Ω—ã–º –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é  
- –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª—è
- –ë–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º –≤–æ–ø—Ä–æ—Å—É

–£–ª—É—á—à–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç:
"""
        
        return self.generate_response(improvement_prompt, max_tokens=1200, temperature=0.5)
    
    def process_request(self, prompt: str, context: str = "",
                       max_improvement_iterations: int = 2) -> Dict:
        """–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Üí –æ—Ü–µ–Ω–∫–∞ ‚Üí —É–ª—É—á—à–µ–Ω–∏–µ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)"""
        
        print(f"üîÑ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å: {prompt[:100]}...")
        
        results = {
            "original_prompt": prompt,
            "context": context,
            "timestamp": datetime.now().isoformat(),
            "iterations": []
        }
        
        current_response = None
        
        for iteration in range(max_improvement_iterations + 1):
            print(f"\nüìù –ò—Ç–µ—Ä–∞—Ü–∏—è {iteration + 1}")
            print("-" * 30)
            
            # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–ª–∏ —É–ª—É—á—à–∞–µ–º –æ—Ç–≤–µ—Ç
            if iteration == 0:
                # –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
                print("ü§ñ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –æ—Ç–≤–µ—Ç...")
                generation_result = self.generate_response(prompt, context)
            else:
                # –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –æ—Ü–µ–Ω–∫–∏
                print("üîß –£–ª—É—á—à–∞–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏...")
                generation_result = self.improve_response(
                    prompt, 
                    current_response, 
                    results["iterations"][-1]["evaluation"]
                )
            
            if not generation_result["success"]:
                print(f"‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: {generation_result['error']}")
                break
            
            current_response = generation_result["response"]
            print(f"‚úÖ –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω ({len(current_response)} —Å–∏–º–≤–æ–ª–æ–≤)")
            
            # –û—Ü–µ–Ω–∏–≤–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ
            print("‚öñÔ∏è –û—Ü–µ–Ω–∏–≤–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ...")
            evaluation_result = self.judge.evaluate_response(prompt, current_response)
            
            iteration_data = {
                "iteration": iteration + 1,
                "generation": generation_result,
                "evaluation": evaluation_result,
                "meets_quality_threshold": False
            }
            
            if evaluation_result["success"]:
                eval_data = evaluation_result.get("evaluation", {})
                
                if "overall_score" in eval_data:
                    overall_score = eval_data["overall_score"]
                    print(f"üìä –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: {overall_score}/10")
                    
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ä–æ–≥–∏ –∫–∞—á–µ—Å—Ç–≤–∞
                    if overall_score >= self.quality_thresholds["overall_score"]:
                        iteration_data["meets_quality_threshold"] = True
                        print("‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º!")
                    else:
                        print("‚ö†Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–ª—É—á—à–µ–Ω–∏–µ")
                else:
                    print("üìÑ –ü–æ–ª—É—á–µ–Ω —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑")
            else:
                print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Ü–µ–Ω–∫–∏: {evaluation_result['error']}")
            
            results["iterations"].append(iteration_data)
            
            # –ï—Å–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ –∏–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –∏—Ç–µ—Ä–∞—Ü–∏—è
            if (iteration_data["meets_quality_threshold"] or 
                iteration == max_improvement_iterations):
                break
                
            time.sleep(1)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏
        
        # –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        final_iteration = results["iterations"][-1]
        results["final_response"] = final_iteration["generation"]["response"]
        results["total_iterations"] = len(results["iterations"])
        results["quality_achieved"] = final_iteration["meets_quality_threshold"]
        
        return results

def demo_quality_pipeline():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø–∞–π–ø–ª–∞–π–Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞"""
    
    pipeline = QualityControlPipeline()
    
    test_prompts = [
        {
            "prompt": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ä—Ç–∞–ø –≤ –æ–±–ª–∞—Å—Ç–∏ FinTech?",
            "context": "–û—Ç–≤–µ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è"
        },
        {
            "prompt": "–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è",
            "context": "–ê—É–¥–∏—Ç–æ—Ä–∏—è: —Å—Ç—É–¥–µ–Ω—Ç—ã IT-—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π, —É—Ä–æ–≤–µ–Ω—å: —Å—Ä–µ–¥–Ω–∏–π"
        }
    ]
    
    print("üîÑ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ü–ê–ô–ü–õ–ê–ô–ù–ê –ö–û–ù–¢–†–û–õ–Ø –ö–ê–ß–ï–°–¢–í–ê")
    print("=" * 60)
    
    for i, test_case in enumerate(test_prompts, 1):
        print(f"\nüéØ –¢–ï–°–¢ {i}")
        print("=" * 40)
        
        results = pipeline.process_request(
            test_case["prompt"],
            test_case["context"],
            max_improvement_iterations=2
        )
        
        print(f"\nüìä –ò–¢–û–ì–û–í–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:")
        print("-" * 30)
        print(f"–ò—Ç–µ—Ä–∞—Ü–∏–π: {results['total_iterations']}")
        print(f"–ö–∞—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ: {'‚úÖ –î–∞' if results['quality_achieved'] else '‚ùå –ù–µ—Ç'}")
        print(f"–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:")
        print(f"  {results['final_response'][:200]}...")
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∏—Ç–µ—Ä–∞—Ü–∏—è–º
        print(f"\nüîç –ü–†–û–ì–†–ï–°–° –ö–ê–ß–ï–°–¢–í–ê:")
        for iteration in results["iterations"]:
            eval_data = iteration["evaluation"].get("evaluation", {})
            score = eval_data.get("overall_score", "N/A")
            verdict = eval_data.get("verdict", "N/A")
            print(f"  –ò—Ç–µ—Ä–∞—Ü–∏—è {iteration['iteration']}: {score}/10 ({verdict})")
        
        if i < len(test_prompts):
            input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–µ—Å—Ç–∞...")

if __name__ == "__main__":
    demo_quality_pipeline()
```

### üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ:
- –£–ª—É—á—à–∞–µ—Ç—Å—è –ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏?
- –ö–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–∞—â–µ –≤—Å–µ–≥–æ?
- –°—Ç–æ–∏—Ç –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞?

## 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤

```python
import re
from typing import Callable, List

class ContentValidator:
    """–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"""
    
    def __init__(self):
        self.validators = {}
        self.register_default_validators()
    
    def register_validator(self, name: str, validator_func: Callable, description: str):
        """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä"""
        self.validators[name] = {
            "func": validator_func,
            "description": description
        }
    
    def register_default_validators(self):
        """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã"""
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã
        def min_length_validator(text: str, min_length: int = 100) -> Dict:
            length = len(text.strip())
            passed = length >= min_length
            return {
                "passed": passed,
                "message": f"–î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: {length} —Å–∏–º–≤–æ–ª–æ–≤ (–º–∏–Ω–∏–º—É–º: {min_length})",
                "score": min(1.0, length / min_length) if min_length > 0 else 1.0
            }
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Å–ø–∏—Å–∫–∏, –ø—É–Ω–∫—Ç—ã)
        def structure_validator(text: str) -> Dict:
            patterns = [
                r'\d+\.',  # –ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏: "1.", "2."
                r'[-*‚Ä¢]',  # –ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏
                r'\*\*.*?\*\*',  # –í—ã–¥–µ–ª–µ–Ω–∏–µ –∂–∏—Ä–Ω—ã–º
                r'#{1,6}\s',  # –ó–∞–≥–æ–ª–æ–≤–∫–∏
                r'\n\n'  # –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∞–±–∑–∞—Ü—ã
            ]
            
            structure_score = 0
            found_elements = []
            
            for pattern in patterns:
                matches = re.findall(pattern, text)
                if matches:
                    structure_score += 1
                    found_elements.append(pattern)
            
            passed = structure_score >= 2  # –ú–∏–Ω–∏–º—É–º 2 —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
            
            return {
                "passed": passed,
                "message": f"–ù–∞–π–¥–µ–Ω–æ {structure_score} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: {found_elements}",
                "score": min(1.0, structure_score / 3)
            }
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
        def bullet_points_validator(text: str, min_points: int = 3) -> Dict:
            # –ò—â–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Å–ø–∏—Å–∫–æ–≤
            patterns = [
                r'^\d+\.',  # "1.", "2.", ...
                r'^[-*‚Ä¢]',  # "- ", "* ", "‚Ä¢ "
                r'^\w+:',   # "–ü–µ—Ä–≤–æ–µ:", "–í—Ç–æ—Ä–æ–µ:"
            ]
            
            points_found = 0
            for pattern in patterns:
                matches = re.findall(pattern, text, re.MULTILINE)
                points_found += len(matches)
            
            passed = points_found >= min_points
            
            return {
                "passed": passed,
                "message": f"–ù–∞–π–¥–µ–Ω–æ {points_found} –ø—É–Ω–∫—Ç–æ–≤ (–º–∏–Ω–∏–º—É–º: {min_points})",
                "score": min(1.0, points_found / min_points) if min_points > 0 else 1.0
            }
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–≤—Ç–æ—Ä–æ–≤
        def repetition_validator(text: str) -> Dict:
            sentences = re.split(r'[.!?]+', text)
            sentences = [s.strip().lower() for s in sentences if s.strip()]
            
            unique_sentences = set(sentences)
            repetition_ratio = len(unique_sentences) / len(sentences) if sentences else 1
            
            passed = repetition_ratio >= 0.8  # –ù–µ –±–æ–ª–µ–µ 20% –ø–æ–≤—Ç–æ—Ä–æ–≤
            
            return {
                "passed": passed,
                "message": f"–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞: {repetition_ratio:.2%}",
                "score": repetition_ratio
            }
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
        def keyword_presence_validator(text: str, keywords: List[str] = None) -> Dict:
            if not keywords:
                return {"passed": True, "message": "–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –Ω–µ –∑–∞–¥–∞–Ω—ã", "score": 1.0}
            
            text_lower = text.lower()
            found_keywords = [kw for kw in keywords if kw.lower() in text_lower]
            coverage = len(found_keywords) / len(keywords) if keywords else 1.0
            
            passed = coverage >= 0.5  # –ú–∏–Ω–∏–º—É–º 50% –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
            
            return {
                "passed": passed,
                "message": f"–ù–∞–π–¥–µ–Ω–æ {len(found_keywords)} –∏–∑ {len(keywords)} –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤: {found_keywords}",
                "score": coverage
            }
        
        # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
        self.register_validator("min_length", min_length_validator, "–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã")
        self.register_validator("structure", structure_validator, "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏")
        self.register_validator("bullet_points", bullet_points_validator, "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø—É–Ω–∫—Ç–æ–≤")
        self.register_validator("repetition", repetition_validator, "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–≤—Ç–æ—Ä—ã")
        self.register_validator("keywords", keyword_presence_validator, "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤")
    
    def validate_content(self, text: str, enabled_validators: List[str] = None,
                        validator_params: Dict = None) -> Dict:
        """–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤"""
        
        if enabled_validators is None:
            enabled_validators = list(self.validators.keys())
        
        if validator_params is None:
            validator_params = {}
        
        results = {
            "overall_passed": True,
            "overall_score": 0.0,
            "validator_results": {},
            "failed_validators": [],
            "warnings": []
        }
        
        total_score = 0.0
        
        for validator_name in enabled_validators:
            if validator_name not in self.validators:
                results["warnings"].append(f"–í–∞–ª–∏–¥–∞—Ç–æ—Ä '{validator_name}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
                continue
            
            validator_func = self.validators[validator_name]["func"]
            params = validator_params.get(validator_name, {})
            
            try:
                # –í—ã–∑—ã–≤–∞–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
                if params:
                    validator_result = validator_func(text, **params)
                else:
                    validator_result = validator_func(text)
                
                results["validator_results"][validator_name] = validator_result
                total_score += validator_result["score"]
                
                if not validator_result["passed"]:
                    results["overall_passed"] = False
                    results["failed_validators"].append(validator_name)
                    
            except Exception as e:
                results["warnings"].append(f"–û—à–∏–±–∫–∞ –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–µ '{validator_name}': {e}")
                results["validator_results"][validator_name] = {
                    "passed": False,
                    "message": f"–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {e}",
                    "score": 0.0
                }
        
        # –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â–∏–π —Å–∫–æ—Ä
        active_validators = len([v for v in enabled_validators if v in self.validators])
        if active_validators > 0:
            results["overall_score"] = total_score / active_validators
        
        return results

def demo_content_validation():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"""
    
    validator = ContentValidator()
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–∑–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
    test_cases = [
        {
            "name": "–•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç",
            "text": """
–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞–ø–∞ –≤ –æ–±–ª–∞—Å—Ç–∏ FinTech —Ç—Ä–µ–±—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

**1. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞**
- –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
- –í—ã—è–≤–ª–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ò–∑—É—á–µ–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ç–∏–≤–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

**2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
- –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–Ω–∏–µ MVP (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞)

**3. –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–π
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –¶–ë –†–§
- –ó–∞—â–∏—Ç–∞ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

**4. –§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è:
‚Ä¢ –ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª: 5-10 –º–ª–Ω —Ä—É–±–ª–µ–π
‚Ä¢ –ü–æ–∏—Å–∫ –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤ –∏–ª–∏ –≥—Ä–∞–Ω—Ç–æ–≤
‚Ä¢ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–Ω–µ–∂–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤

–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã —É—Å–ø–µ—Ö–∞: –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è, –∫–æ–º–∞–Ω–¥–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, –≥—Ä–∞–º–æ—Ç–Ω—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥.
""",
            "keywords": ["—Å—Ç–∞—Ä—Ç–∞–ø", "FinTech", "–∏–Ω–≤–µ—Å—Ç–æ—Ä", "MVP", "–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"],
            "expected_quality": "–≤—ã—Å–æ–∫–æ–µ"
        },
        {
            "name": "–°–ª–∞–±–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç", 
            "text": """
–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ä—Ç–∞–ø –Ω—É–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å –∏–¥–µ—é –∏ –Ω–∞–π—Ç–∏ –¥–µ–Ω—å–≥–∏. –¢–∞–∫–∂–µ –≤–∞–∂–Ω–æ –∏–∑—É—á–∏—Ç—å —Ä—ã–Ω–æ–∫ –∏ –ø–æ–Ω—è—Ç—å —á—Ç–æ –Ω—É–∂–Ω–æ –∫–ª–∏–µ–Ω—Ç–∞–º. –ü–æ—Ç–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥.
""",
            "keywords": ["—Å—Ç–∞—Ä—Ç–∞–ø", "–∏–¥–µ—è", "–∫–ª–∏–µ–Ω—Ç—ã", "–ø—Ä–æ–¥—É–∫—Ç"],
            "expected_quality": "–Ω–∏–∑–∫–æ–µ"
        }
    ]
    
    print("üîç –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ô –í–ê–õ–ò–î–ê–¶–ò–ò")
    print("=" * 50)
    
    for i, test_case in enumerate(test_cases, 1):
        print(f"\nüìù –¢–ï–°–¢ {i}: {test_case['name']}")
        print("=" * 40)
        print(f"–û–∂–∏–¥–∞–µ–º–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ: {test_case['expected_quality']}")
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞
        validator_params = {
            "min_length": {"min_length": 200},
            "bullet_points": {"min_points": 4},
            "keywords": {"keywords": test_case["keywords"]}
        }
        
        # –ó–∞–ø—É—Å–∫–∞–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é
        validation_result = validator.validate_content(
            test_case["text"],
            enabled_validators=["min_length", "structure", "bullet_points", "keywords"],
            validator_params=validator_params
        )
        
        # –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        print(f"\nüìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –í–ê–õ–ò–î–ê–¶–ò–ò:")
        print(f"–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {'‚úÖ –ü–†–û–®–ï–õ' if validation_result['overall_passed'] else '‚ùå –ù–ï –ü–†–û–®–ï–õ'}")
        print(f"–û–±—â–∏–π —Å–∫–æ—Ä: {validation_result['overall_score']:.2f}/1.00")
        
        if validation_result["failed_validators"]:
            print(f"–ü—Ä–æ–≤–∞–ª–∏–≤—à–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã: {validation_result['failed_validators']}")
        
        print("\nüîç –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:")
        for validator_name, result in validation_result["validator_results"].items():
            status = "‚úÖ" if result["passed"] else "‚ùå"
            print(f"  {status} {validator_name}: {result['message']} (—Å–∫–æ—Ä: {result['score']:.2f})")
        
        if validation_result["warnings"]:
            print("\n‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:")
            for warning in validation_result["warnings"]:
                print(f"  - {warning}")
        
        if i < len(test_cases):
            input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–µ—Å—Ç–∞...")

if __name__ == "__main__":
    demo_content_validation()
```

## 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

```python
import tiktoken
from typing import Optional

class TokenOptimizer:
    """–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏"""
    
    def __init__(self, model_name: str = "gpt-3.5-turbo"):
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤
        try:
            self.encoding = tiktoken.encoding_for_model(model_name)
        except KeyError:
            # –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â–∏–π —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä
            self.encoding = tiktoken.get_encoding("cl100k_base")
    
    def count_tokens(self, text: str) -> int:
        """–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ"""
        return len(self.encoding.encode(text))
    
    def estimate_cost(self, prompt_tokens: int, response_tokens: int,
                     prompt_price: float = 0.0015, completion_price: float = 0.002) -> float:
        """–û—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö (—Ü–µ–Ω—ã –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤)"""
        prompt_cost = (prompt_tokens / 1000) * prompt_price
        completion_cost = (response_tokens / 1000) * completion_price
        return prompt_cost + completion_cost
    
    def compress_prompt(self, prompt: str, max_reduction: float = 0.3) -> Dict:
        """–°–∂–∏–º–∞–µ—Ç –ø—Ä–æ–º–ø—Ç, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–º—ã—Å–ª"""
        
        original_tokens = self.count_tokens(prompt)
        
        optimization_strategies = [
            self._remove_redundant_phrases,
            self._shorten_examples,
            self._compress_instructions,
            self._remove_excessive_formatting
        ]
        
        current_prompt = prompt
        optimization_log = []
        
        for strategy in optimization_strategies:
            result = strategy(current_prompt)
            if result["tokens_saved"] > 0:
                current_tokens = self.count_tokens(result["optimized_text"])
                reduction = (original_tokens - current_tokens) / original_tokens
                
                # –ü—Ä–∏–º–µ–Ω—è–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, –µ—Å–ª–∏ —ç–∫–æ–Ω–æ–º–∏—è –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç
                if reduction <= max_reduction:
                    current_prompt = result["optimized_text"]
                    optimization_log.append({
                        "strategy": result["strategy_name"],
                        "tokens_saved": result["tokens_saved"],
                        "description": result["description"]
                    })
                    
                    # –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ —Ü–µ–ª–µ–≤–æ–≥–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è
                    if reduction >= max_reduction * 0.8:
                        break
        
        final_tokens = self.count_tokens(current_prompt)
        total_saved = original_tokens - final_tokens
        
        return {
            "original_prompt": prompt,
            "optimized_prompt": current_prompt,
            "original_tokens": original_tokens,
            "final_tokens": final_tokens,
            "tokens_saved": total_saved,
            "reduction_percentage": (total_saved / original_tokens) * 100,
            "optimization_log": optimization_log
        }
    
    def _remove_redundant_phrases(self, text: str) -> Dict:
        """–£–¥–∞–ª—è–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Ñ—Ä–∞–∑—ã –∏ –ø–æ–≤—Ç–æ—Ä—ã"""
        
        # –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
        redundant_patterns = [
            (r'\s+', ' '),  # –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
            (r'(\w+)\s+\1\b', r'\1'),  # –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–ª–æ–≤–∞
            (r'–ø–æ–∂–∞–ª—É–π—Å—Ç–∞,?\s*', ''),  # –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –≤–µ–∂–ª–∏–≤–æ—Å—Ç—å –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö
            (r'–±—É–¥—å—Ç–µ\s+(–¥–æ–±—Ä—ã|–ª—é–±–µ–∑–Ω—ã),?\s*', ''),
            (r'–µ—Å–ª–∏\s+–º–æ–∂–Ω–æ,?\s*', ''),
            (r'—è\s+—Ö–æ—á—É,?\s*—á—Ç–æ[–±—ã]*\s+', ''),
            (r'–º–Ω–µ\s+–Ω—É–∂–Ω–æ,?\s*—á—Ç–æ[–±—ã]*\s+', ''),
            (r'\s*,\s*–∏\s+—Ç–∞–∫–∂–µ\s*', ', '),
            (r'\s*,\s*–∞\s+—Ç–∞–∫–∂–µ\s*', ', '),
        ]
        
        optimized = text
        tokens_saved = 0
        
        original_tokens = self.count_tokens(text)
        
        for pattern, replacement in redundant_patterns:
            optimized = re.sub(pattern, replacement, optimized, flags=re.IGNORECASE)
        
        optimized = optimized.strip()
        new_tokens = self.count_tokens(optimized)
        tokens_saved = original_tokens - new_tokens
        
        return {
            "strategy_name": "remove_redundancy",
            "optimized_text": optimized,
            "tokens_saved": tokens_saved,
            "description": "–£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ñ—Ä–∞–∑ –∏ –ø–æ–≤—Ç–æ—Ä–æ–≤"
        }
    
    def _shorten_examples(self, text: str) -> Dict:
        """–°–æ–∫—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã, —Å–æ—Ö—Ä–∞–Ω—è—è –∏—Ö —Å—É—Ç—å"""
        
        # –ò—â–µ–º –±–ª–æ–∫–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
        example_patterns = [
            r'–ü—Ä–∏–º–µ—Ä[—ã]?:\s*\n(.*?)(?=\n\n|\n[–ê-–Ø]|\Z)',
            r'–ù–∞–ø—Ä–∏–º–µ—Ä:\s*\n(.*?)(?=\n\n|\n[–ê-–Ø]|\Z)',
        ]
        
        optimized = text
        original_tokens = self.count_tokens(text)
        
        for pattern in example_patterns:
            examples = re.findall(pattern, text, re.DOTALL | re.IGNORECASE)
            for example in examples:
                if len(example) > 200:  # –î–ª–∏–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
                    # –ë–µ—Ä—ë–º –ø–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤ + –º–Ω–æ–≥–æ—Ç–æ—á–∏–µ
                    shortened = example[:100] + "..."
                    optimized = optimized.replace(example, shortened)
        
        new_tokens = self.count_tokens(optimized)
        tokens_saved = original_tokens - new_tokens
        
        return {
            "strategy_name": "shorten_examples",
            "optimized_text": optimized,
            "tokens_saved": tokens_saved,
            "description": "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤"
        }
    
    def _compress_instructions(self, text: str) -> Dict:
        """–°–∂–∏–º–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –¥–µ–ª–∞—è –∏—Ö –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º–∏"""
        
        # –ó–∞–º–µ–Ω—ã –¥–ª—è —Å–∂–∞—Ç–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
        compression_rules = [
            (r'–ø–æ–¥—Ä–æ–±–Ω–æ\s+', ''),
            (r'–¥–µ—Ç–∞–ª—å–Ω–æ\s+', ''),
            (r'—Ç—â–∞—Ç–µ–ª—å–Ω–æ\s+', ''),
            (r'–≤\s+–¥–µ—Ç–∞–ª—è—Ö\s+', ''),
            (r'–∫–∞–∫\s+–º–æ–∂–Ω–æ\s+–±–æ–ª–µ–µ\s+', ''),
            (r'–ø–æ—Å—Ç–∞—Ä–∞–π—Å—è\s+', ''),
            (r'–ø–æ–ø—ã—Ç–∞–π—Å—è\s+', ''),
            (r'–Ω–µ\s+–∑–∞–±—É–¥—å\s+', ''),
            (r'–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ\s+', ''),
            (r'–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ\s+', ''),
            (r'–∏—Å–ø–æ–ª—å–∑—É—è\s+–≤—Å—é\s+–¥–æ—Å—Ç—É–ø–Ω—É—é\s+–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é,?\s*', ''),
            (r'–ø—Ä–∏–Ω–∏–º–∞—è\s+–≤–æ\s+–≤–Ω–∏–º–∞–Ω–∏–µ\s+', '—É—á–∏—Ç—ã–≤–∞—è '),
            (r'–æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å\s+–Ω–∞\s+', '–ø–æ '),
        ]
        
        optimized = text
        original_tokens = self.count_tokens(text)
        
        for pattern, replacement in compression_rules:
            optimized = re.sub(pattern, replacement, optimized, flags=re.IGNORECASE)
        
        new_tokens = self.count_tokens(optimized)
        tokens_saved = original_tokens - new_tokens
        
        return {
            "strategy_name": "compress_instructions",
            "optimized_text": optimized,
            "tokens_saved": tokens_saved,
            "description": "–°–∂–∞—Ç–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏ —É–∫–∞–∑–∞–Ω–∏–π"
        }
    
    def _remove_excessive_formatting(self, text: str) -> Dict:
        """–£–ø—Ä–æ—â–∞–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"""
        
        formatting_rules = [
            (r'\*{3,}', '**'),  # –¢—Ä–æ–π–Ω—ã–µ –∑–≤—ë–∑–¥–æ—á–∫–∏ ‚Üí –¥–≤–æ–π–Ω—ã–µ
            (r'={4,}', '==='),  # –î–ª–∏–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏
            (r'-{4,}', '---'),  # –î–ª–∏–Ω–Ω—ã–µ –¥–µ—Ñ–∏—Å—ã
            (r'\n{3,}', '\n\n'),  # –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
            (r'\s*\n\s*\n\s*\n\s*', '\n\n'),  # –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏
        ]
        
        optimized = text
        original_tokens = self.count_tokens(text)
        
        for pattern, replacement in formatting_rules:
            optimized = re.sub(pattern, replacement, optimized)
        
        new_tokens = self.count_tokens(optimized)
        tokens_saved = original_tokens - new_tokens
        
        return {
            "strategy_name": "simplify_formatting",
            "optimized_text": optimized,
            "tokens_saved": tokens_saved,
            "description": "–£–ø—Ä–æ—â–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
        }
    
    def create_context_summary(self, long_context: str, target_tokens: int = 500) -> Dict:
        """–°–æ–∑–¥–∞—ë—Ç –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"""
        
        # –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: –±–µ—Ä—ë–º –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü, –ø–ª—é—Å –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        sentences = re.split(r'[.!?]+', long_context)
        sentences = [s.strip() for s in sentences if s.strip()]
        
        if not sentences:
            return {
                "original_context": long_context,
                "summary": "",
                "original_tokens": 0,
                "summary_tokens": 0,
                "compression_ratio": 0
            }
        
        original_tokens = self.count_tokens(long_context)
        
        if original_tokens <= target_tokens:
            return {
                "original_context": long_context,
                "summary": long_context,
                "original_tokens": original_tokens,
                "summary_tokens": original_tokens,
                "compression_ratio": 1.0
            }
        
        # –ë–µ—Ä—ë–º –ø–µ—Ä–≤—ã–µ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        num_sentences = len(sentences)
        keep_from_start = max(1, num_sentences // 4)
        keep_from_end = max(1, num_sentences // 4)
        
        summary_sentences = []
        summary_sentences.extend(sentences[:keep_from_start])
        
        if keep_from_start + keep_from_end < num_sentences:
            summary_sentences.append("[...—Ä–µ–∑—é–º–µ —Å—Ä–µ–¥–Ω–µ–π —á–∞—Å—Ç–∏...]")
        
        summary_sentences.extend(sentences[-keep_from_end:])
        
        summary = '. '.join(summary_sentences) + '.'
        summary_tokens = self.count_tokens(summary)
        
        # –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ, —Å–æ–∫—Ä–∞—Ç–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
        if summary_tokens > target_tokens and len(summary_sentences) > 3:
            summary_sentences = [summary_sentences[0], "[...–∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ...]", summary_sentences[-1]]
            summary = '. '.join(summary_sentences) + '.'
            summary_tokens = self.count_tokens(summary)
        
        return {
            "original_context": long_context,
            "summary": summary,
            "original_tokens": original_tokens,
            "summary_tokens": summary_tokens,
            "compression_ratio": summary_tokens / original_tokens
        }

def demo_token_optimization():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Ç–æ–∫–µ–Ω–æ–≤"""
    
    optimizer = TokenOptimizer()
    
    # –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    test_prompts = [
        """
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –±—É–¥—å—Ç–µ –¥–æ–±—Ä—ã, –ø–æ–¥—Ä–æ–±–Ω–æ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç–µ –º–Ω–µ, —á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ.
–Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –≤—ã —Ä–∞—Å—Å–∫–∞–∑–∞–ª–∏ –æ–±–æ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–∞—Ö —ç—Ç–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —É–ø–æ–º—è–Ω—É—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã.
–ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞ –∏ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã.

–ü—Ä–∏–º–µ—Ä: –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –æ–≥—Ä–æ–º–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –º–∏–ª–ª–∏–æ–Ω—ã –∫–Ω–∏–≥, 
–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –Ω–∞—É—á–∏—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∂–∞–Ω—Ä –ª—é–±–æ–π –∫–Ω–∏–≥–∏. –î–ª—è —ç—Ç–æ–≥–æ –≤—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ 
–∫–æ–º–ø—å—é—Ç–µ—Ä—É —Ç—ã—Å—è—á–∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–Ω–∏–≥ —Å —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –∂–∞–Ω—Ä–∞–º–∏...

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç:
- –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
- –ö–∞–∫–∏–µ –≤–∏–¥—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç  
- –ö–∞–∫ —ç—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏
- –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

–¢—â–∞—Ç–µ–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç –∏ –ø–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º.
""",
        """
–ù–∞–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ä—Ç–∞–ø–∞ –≤ –æ–±–ª–∞—Å—Ç–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
–Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –ø–ª–∞–Ω –±—ã–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –≤–∫–ª—é—á–∞–ª –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —ç—Ç–∞–ø—ã.

–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω—É–∂–Ω–æ —É—á–µ—Å—Ç—å —Ç–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –∫–∞–∫ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, 
–ø–æ–∏—Å–∫ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã, –ø—Ä–∞–≤–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è...

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –∏ –ø—Ä–∏–º–µ—Ä–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã.
"""
    ]
    
    print("‚ö° –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –¢–û–ö–ï–ù–û–í")
    print("=" * 50)
    
    for i, prompt in enumerate(test_prompts, 1):
        print(f"\nüìù –ü–†–û–ú–ü–¢ {i}")
        print("=" * 30)
        
        # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–º–ø—Ç
        original_tokens = optimizer.count_tokens(prompt)
        original_cost = optimizer.estimate_cost(original_tokens, 500)  # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º 500 —Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç–≤–µ—Ç–∞
        
        print(f"–ò—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–º–ø—Ç: {original_tokens} —Ç–æ–∫–µ–Ω–æ–≤")
        print(f"–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${original_cost:.4f}")
        
        # –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–º–ø—Ç
        optimization_result = optimizer.compress_prompt(prompt, max_reduction=0.3)
        
        optimized_tokens = optimization_result["final_tokens"]
        optimized_cost = optimizer.estimate_cost(optimized_tokens, 500)
        
        print(f"\n–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç: {optimized_tokens} —Ç–æ–∫–µ–Ω–æ–≤")
        print(f"–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${optimized_cost:.4f}")
        print(f"–≠–∫–æ–Ω–æ–º–∏—è: {optimization_result['reduction_percentage']:.1f}% —Ç–æ–∫–µ–Ω–æ–≤, ${original_cost - optimized_cost:.4f}")
        
        print(f"\nüîß –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:")
        for log_entry in optimization_result["optimization_log"]:
            print(f"  - {log_entry['description']}: -{log_entry['tokens_saved']} —Ç–æ–∫–µ–Ω–æ–≤")
        
        print(f"\nüìÑ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç:")
        print("-" * 40)
        print(optimization_result["optimized_prompt"][:300] + "...")
        print("-" * 40)
        
        if i < len(test_prompts):
            input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞...")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∂–∞—Ç–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    print(f"\nüìö –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –°–ñ–ê–¢–ò–Ø –ö–û–ù–¢–ï–ö–°–¢–ê")
    print("=" * 40)
    
    long_context = """
    –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –±—ã—Å—Ç—Ä–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –∏ –º–µ–Ω—è–µ—Ç –º–∏—Ä. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –ò–ò —Å–ø–æ—Å–æ–±–Ω—ã 
    –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ —Ç—Ä–µ–±–æ–≤–∞–ª–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞. –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ 
    —Å—Ç–∞–ª–æ –æ—Å–Ω–æ–≤–æ–π –º–Ω–æ–≥–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤–ø–µ—á–∞—Ç–ª—è—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ 
    —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –û–±—Ä–∞–±–æ—Ç–∫–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –¥–æ—Å—Ç–∏–≥–ª–∞ –Ω–æ–≤—ã—Ö –≤—ã—Å–æ—Ç. 
    –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ–º–æ–≥–∞—é—Ç 
    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç. –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É–ª—É—á—à–∞–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –ò–ò. 
    –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ. –†–æ–±–æ—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–æ–ª–µ–µ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º–∏. 
    –ì–æ–ª–æ—Å–æ–≤—ã–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã –ø–æ–Ω–∏–º–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã –ª—É—á—à–µ. –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. 
    –¢–≤–æ—Ä—á–µ—Å–∫–∏–π –ò–ò —Å–æ–∑–¥–∞—ë—Ç –º—É–∑—ã–∫—É –∏ –∏—Å–∫—É—Å—Å—Ç–≤–æ. –≠—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è. 
    –†–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –ë—É–¥—É—â–µ–µ –ò–ò –ø–æ–ª–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏ –≤—ã–∑–æ–≤–æ–≤.
    """ * 3  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
    
    context_summary = optimizer.create_context_summary(long_context, target_tokens=200)
    
    print(f"–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: {context_summary['original_tokens']} —Ç–æ–∫–µ–Ω–æ–≤")
    print(f"–°–∂–∞—Ç—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: {context_summary['summary_tokens']} —Ç–æ–∫–µ–Ω–æ–≤")
    print(f"–°—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è: {(1 - context_summary['compression_ratio']) * 100:.1f}%")
    print(f"\n–°–∂–∞—Ç—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:\n{context_summary['summary']}")

if __name__ == "__main__":
    demo_token_optimization()
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### üü¢ –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å

**–ó–∞–¥–∞–Ω–∏–µ 1: –ü—Ä–æ—Å—Ç–æ–π LLM-—Å—É–¥—å—è**
–°–æ–∑–¥–∞–π—Ç–µ —Å—É–¥—å—é –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤. –ö—Ä–∏—Ç–µ—Ä–∏–∏: —Ç–æ—á–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–º—ã—Å–ª–∞, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —è–∑—ã–∫–∞.

**–ó–∞–¥–∞–Ω–∏–µ 2: –ë–∞–∑–æ–≤—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã**
–†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ù–∞–ª–∏—á–∏—è –∑–∞–∫–ª—é—á–µ–Ω–∏—è –≤ —Ç–µ–∫—Å—Ç–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–µ—Ü–µ–Ω–∑—É—Ä–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–∞–¥–∞–Ω–Ω–æ–º—É —Å—Ç–∏–ª—é (—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π/–Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π)

### üü° –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å

**–ó–∞–¥–∞–Ω–∏–µ 3: –ü–∞–π–ø–ª–∞–π–Ω —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π**
–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π LLM-—Å—É–¥—å—ë–π
- –í—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–ó–∞–¥–∞–Ω–∏–µ 4: –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è:
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞
- –í–µ–¥—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

**–ó–∞–¥–∞–Ω–∏–µ 5: A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤**
–°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–æ–π –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤.

### üî¥ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å

**–ó–∞–¥–∞–Ω–∏–µ 6: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞—á–µ—Å—Ç–≤–∞**
–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- LLM-—Å—É–¥—å—è –¥–ª—è —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
- –ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è –¥–ª—è —Å–ø–æ—Ä–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

**–ó–∞–¥–∞–Ω–∏–µ 7: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ö–æ–∂–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–¥ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

**–ó–∞–¥–∞–Ω–∏–µ 8: –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞**
–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –¢—Ä–µ–Ω–¥–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- ROI –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π —Ç–æ–∫–µ–Ω–æ–≤

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. **–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç LLM-as-a-judge?**
   <details>
   <summary>–û—Ç–≤–µ—Ç</summary>
   LLM-as-a-judge ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π –∏–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –°—É–¥—å—è-–º–æ–¥–µ–ª—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ü–µ–Ω–∫–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é.
   </details>

2. **–ö–∞–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–∞ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å?**
   <details>
   <summary>–û—Ç–≤–µ—Ç</summary>
   –û—Å–Ω–æ–≤–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏: —Ç–æ—á–Ω–æ—Å—Ç—å (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å), –ø–æ–ª–Ω–æ—Ç–∞ (–ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤), —è—Å–Ω–æ—Å—Ç—å (–ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∏–∑–ª–æ–∂–µ–Ω–∏—è), —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–æ–ø—Ä–æ—Å—É), —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, —Å—Ç–∏–ª—å, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É –∏ –∞—É–¥–∏—Ç–æ—Ä–∏—é.
   </details>

3. **–ö–∞–∫ –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å–µ?**
   <details>
   <summary>–û—Ç–≤–µ—Ç</summary>
   –ú–µ—Ç–æ–¥—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ñ—Ä–∞–∑, —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤, —É–ø—Ä–æ—â–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, —Å–∂–∞—Ç–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä, —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–æ–≤, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ.
   </details>

4. **–í —á—ë–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Ä—É—á–Ω–æ–π?**
   <details>
   <summary>–û—Ç–≤–µ—Ç</summary>
   –°–∫–æ—Ä–æ—Å—Ç—å (—Å–µ–∫—É–Ω–¥—ã vs –º–∏–Ω—É—Ç—ã), —Å—Ç–æ–∏–º–æ—Å—Ç—å (–≤ —Ä–∞–∑—ã –¥–µ—à–µ–≤–ª–µ), –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å (—Ç—ã—Å—è—á–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ –¥–µ–Ω—å), –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (–Ω–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞), –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫: –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω—é–∞–Ω—Å—ã, –ø–æ–Ω—è—Ç–Ω—ã–µ —á–µ–ª–æ–≤–µ–∫—É.
   </details>

5. **–ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤?**
   <details>
   <summary>–û—Ç–≤–µ—Ç</summary>
   –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∑–∞–¥–∞—á, –∫–æ–≥–¥–∞ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏. –ü—Ä–∏–º–µ—Ä—ã: –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è. –ù–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.
   </details>

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ —É—Ä–æ–∫–∞

### –ß—Ç–æ –º—ã –∏–∑—É—á–∏–ª–∏

–í —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —É—Ä–æ–∫–µ –º–æ–¥—É–ª—è –≤—ã –æ—Å–≤–æ–∏–ª–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ AI-—Å–∏—Å—Ç–µ–º:

- **LLM-as-a-judge**: –Ω–∞—É—á–∏–ª–∏—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π
- **–ü–∞–π–ø–ª–∞–π–Ω—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏**: —Å–æ–∑–¥–∞–ª–∏ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞**: –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –∏ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤**: –æ—Å–≤–æ–∏–ª–∏ –º–µ—Ç–æ–¥—ã —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –°–≤—è–∑—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —É—Ä–æ–∫–∞–º–∏ –º–æ–¥—É–ª—è

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –∞—Ä—Å–µ–Ω–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã—Ö AI-—Ä–µ—à–µ–Ω–∏–π:
- **–£—Ä–æ–∫ 1**: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã ‚Üí **–£—Ä–æ–∫ 3**: –ö–æ–Ω—Ç—Ä–æ–ª—å –∏—Ö –∫–∞—á–µ—Å—Ç–≤–∞
- **–£—Ä–æ–∫ 2**: –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ ‚Üí **–£—Ä–æ–∫ 3**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ + –ú—É–ª—å—Ç–∏–º–æ–¥–µ–ª—å–Ω–æ—Å—Ç—å + –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ = –ù–∞–¥—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### –°–≤—è–∑—å —Å –º–æ–¥—É–ª–µ–º 1

–û—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:
- **–ú–æ–¥—É–ª—å 1**: –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å LLM –∏ –±–∞–∑–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏
- **–ú–æ–¥—É–ª—å 2**: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ –º–æ–¥—É–ª–µ 2

üèÜ **–í—ã–¥–∞—é—â–∏–µ—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!** –ó–∞ —Ç—Ä–∏ —É—Ä–æ–∫–∞ –≤—ã —Å—Ç–∞–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–º –ø–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π —Ä–∞–±–æ—Ç–µ —Å LLM:

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏:**
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã (ReAct, Tree-of-Thought)
- ‚úÖ –°—Ç—Ä–æ–∏—Ç–µ –º–Ω–æ–≥–æ–º–æ–¥–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–æ—É—Ç–∏–Ω–≥–æ–º
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç–µ –ø–∞–π–ø–ª–∞–π–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º

**–ü—Ä–æ–¥—É–∫—Ç–æ–≤–æ–µ –º—ã—à–ª–µ–Ω–∏–µ:**
- ‚úÖ –í—ã–±–∏—Ä–∞–µ—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ø–æ–¥ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∏
- ‚úÖ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –±—é–¥–∂–µ—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —Ä–∞—Å—Ö–æ–¥—ã
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Å fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏

### –ß—Ç–æ –¥–∞–ª—å—à–µ

–í—ã –≥–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–∞–º –≤ AI-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
- **RAG —Å–∏—Å—Ç–µ–º—ã** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –±–∞–∑–∞–º–∏ –∑–Ω–∞–Ω–∏–π
- **Fine-tuning** ‚Äî –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- **Agent —Å–∏—Å—Ç–µ–º—ã** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö AI-–∞–≥–µ–Ω—Ç–æ–≤
- **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏, –∞—É–¥–∏–æ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è:**
1. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
2. –ò–∑—É—á–∞–π—Ç–µ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–∏  
3. –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ AI-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö
4. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è–º–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ LLM

üéâ **–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –º–æ–¥—É–ª—è!** –í—ã —Ç–µ–ø–µ—Ä—å –æ–±–ª–∞–¥–∞–µ—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –Ω–∞–≤—ã–∫–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –≥–æ—Ç–æ–≤—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—Ç –º–∏—Ä!

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ –æ—Ü–µ–Ω–∫–µ –∫–∞—á–µ—Å—Ç–≤–∞:
- [Constitutional AI](https://arxiv.org/abs/2212.08073) ‚Äî —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π
- [LLM-as-a-Judge](https://arxiv.org/abs/2306.05685) ‚Äî –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–µ

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- [LangSmith](https://smith.langchain.com/) ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞ LLM-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π  
- [Weights & Biases](https://wandb.ai/) ‚Äî —Ç—Ä–µ–∫–∏–Ω–≥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫
- [OpenAI Evals](https://github.com/openai/evals) ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–µ–π

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- [Guidance](https://github.com/guidance-ai/guidance) ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- [Token counting tools](https://platform.openai.com/tokenizer) ‚Äî —Ç–æ—á–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤
- [Cost optimization strategies](https://help.openai.com/en/articles/6643408-managing-costs) ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —ç–∫–æ–Ω–æ–º–∏–∏

### –≠—Ç–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å AI:
- [AI Safety Guidelines](https://www.anthropic.com/index/introducing-constitutional-ai) ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ò–ò
- [Responsible AI practices](https://ai.google/responsibility/responsible-ai-practices/) ‚Äî –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
